{"ast":null,"code":"var _jsxFileName = \"/home/Lucas/Projetos-Trybe/sd-025-a-project-starwars-planets-search/src/component/Filter.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport StarWarsContext from '../context/StarwarsContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Filter() {\n  _s();\n\n  const data = useContext(StarWarsContext);\n  const {\n    resultFilter,\n    filterData,\n    setFilterData,\n    reset,\n    filterForReset\n  } = data;\n  const [filterOptions, setFilterOptions] = useState({\n    column: 'population',\n    comparison: 'maior que',\n    value: 0\n  });\n  const select = ['population', 'orbital_period', 'diameter', 'rotation_period', 'surface_water'];\n  const [usedOptions, setUsedOptions] = useState(select);\n\n  const optionsNotUsed = () => {\n    const options = usedOptions.filter(ele => ele !== filterOptions.column);\n    return options;\n  };\n\n  const deleteFilter = _ref => {\n    let {\n      target\n    } = _ref;\n    const deleteFil = filterData.filter(ele => ele.column !== target.name);\n    usedOptions.push(target.name);\n    setFilterData(deleteFil);\n\n    if (deleteFil.length === 0) {\n      reset();\n    } else {\n      filterForReset(deleteFil);\n    }\n  };\n\n  const clearAllFilter = () => {\n    reset();\n  };\n\n  const submitClick = () => {\n    setUsedOptions(optionsNotUsed());\n    resultFilter(filterOptions);\n    setFilterOptions({ ...filterOptions,\n      column: optionsNotUsed()[0]\n    });\n  };\n\n  const handleChangeName = _ref2 => {\n    let {\n      target\n    } = _ref2;\n    setFilterOptions({ ...filterOptions,\n      [target.name]: target.value\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"select\", {\n      \"data-testid\": \"column-filter\",\n      name: \"column\",\n      value: filterOptions.column,\n      onChange: handleChangeName,\n      children: usedOptions.map(e => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: e,\n        children: e\n      }, e, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 33\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      \"data-testid\": \"comparison-filter\",\n      onChange: handleChangeName,\n      name: \"comparison\",\n      value: filterOptions.comparison,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"maior que\",\n        children: \"maior que\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"menor que\",\n        children: \"menor que\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"igual a\",\n        children: \"igual a\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      \"data-testid\": \"value-filter\",\n      name: \"value\",\n      value: filterOptions.value,\n      onChange: handleChangeName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"button-filter\",\n      onClick: () => submitClick(),\n      children: \"Filtrar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), filterData.map(element => /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"filter\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        name: element.column,\n        children: `${element.column} ${element.comparison} ${element.value}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: deleteFilter,\n        name: element.column,\n        children: \"apagar filtro\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this)]\n    }, element.column, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: clearAllFilter,\n      \"data-testid\": \"button-remove-filters\",\n      children: \"limpar todos os filtros\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Filter, \"ixVLXAG+w7OtYWSvGSo9q+3jowo=\");\n\n_c = Filter;\n\nvar _c;\n\n$RefreshReg$(_c, \"Filter\");","map":{"version":3,"names":["React","useContext","useState","StarWarsContext","Filter","data","resultFilter","filterData","setFilterData","reset","filterForReset","filterOptions","setFilterOptions","column","comparison","value","select","usedOptions","setUsedOptions","optionsNotUsed","options","filter","ele","deleteFilter","target","deleteFil","name","push","length","clearAllFilter","submitClick","handleChangeName","map","e","element"],"sources":["/home/Lucas/Projetos-Trybe/sd-025-a-project-starwars-planets-search/src/component/Filter.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\nimport StarWarsContext from '../context/StarwarsContext';\n\nexport default function Filter() {\n    const data = useContext(StarWarsContext);\n    const { resultFilter, filterData, setFilterData, reset, filterForReset} = data;\n    const [filterOptions, setFilterOptions] = useState({\n    column: 'population',\n    comparison: 'maior que',\n    value: 0,\n  });\n\n  const select = ['population',\n    'orbital_period',\n    'diameter',\n    'rotation_period',\n    'surface_water'];\n  const [usedOptions, setUsedOptions] = useState(select);\n\n  const optionsNotUsed = () => {\n    const options = usedOptions.filter((ele) => ele !== filterOptions.column);\n    return options;\n  };\n\n  const deleteFilter = ({ target }) => {\n    const deleteFil = filterData.filter((ele) => ele.column !== target.name);\n    usedOptions.push(target.name);\n    setFilterData(deleteFil);\n    if (deleteFil.length === 0) {\n      reset();\n    } else {\n      filterForReset(deleteFil);\n    }\n  };\n\n  const clearAllFilter = () => {\n    reset();\n  };\n\n  const submitClick = () => {\n    setUsedOptions(optionsNotUsed());\n    resultFilter(filterOptions);\n    setFilterOptions({\n      ...filterOptions,\n      column: optionsNotUsed()[0],\n    });\n  };\n  const handleChangeName = ({ target }) => {\n    setFilterOptions({\n      ...filterOptions,\n      [target.name]: target.value,\n    });\n  };\n  return (\n    <div>\n      <select\n        data-testid=\"column-filter\"\n        name=\"column\"\n        value={ filterOptions.column }\n        onChange={ handleChangeName }\n      >\n        {usedOptions.map((e) => <option key={ e } value={ e }>{e}</option>)}\n      </select>\n\n      <select\n        data-testid=\"comparison-filter\"\n        onChange={ handleChangeName }\n        name=\"comparison\"\n        value={ filterOptions.comparison }\n      >\n        <option value=\"maior que\">maior que</option>\n        <option value=\"menor que\">menor que</option>\n        <option value=\"igual a\">igual a</option>\n      </select>\n\n      <input\n        type=\"number\"\n        data-testid=\"value-filter\"\n        name=\"value\"\n        value={ filterOptions.value }\n        onChange={ handleChangeName }\n      />\n      <button\n        type=\"button\"\n        data-testid=\"button-filter\"\n        onClick={ () => submitClick() }\n      >\n        Filtrar\n      </button>\n      {filterData.map((element) => (\n        <div\n          key={ element.column }\n          data-testid=\"filter\"\n        >\n          <p\n            name={ element.column }\n          >\n            {`${element.column} ${element.comparison} ${element.value}`}\n\n          </p>\n          <button\n            type=\"button\"\n            onClick={ deleteFilter }\n            name={ element.column }\n          >\n            apagar filtro\n\n          </button>\n        </div>\n      ))}\n      <button\n        type=\"button\"\n        onClick={ clearAllFilter }\n        data-testid=\"button-remove-filters\"\n      >\n        limpar todos os filtros\n\n      </button>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}