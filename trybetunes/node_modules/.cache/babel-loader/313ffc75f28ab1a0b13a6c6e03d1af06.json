{"ast":null,"code":"var _jsxFileName = \"/home/Lucas/Projetos-Trybe/sd-025-a-project-trybetunes/src/component/MusicCard.jsx\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { addSong, getFavoriteSongs } from '../services/favoriteSongsAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass MusicCard extends React.Component {\n  constructor() {\n    super();\n\n    this.onInputChange = event => {\n      const {\n        name,\n        type,\n        checked\n      } = event.target;\n      const value = type === 'checkbox' ? checked : event.target.value;\n      this.setState({\n        isLoading: true,\n        [name]: value,\n        selectOption: event.target.value\n      }, this.favoriteSong);\n    };\n\n    this.favoriteSong = async () => {\n      const {\n        musica\n      } = this.props;\n      await addSong(musica);\n      const getFavorites = await getFavoriteSongs();\n      console.log(getFavorites);\n      this.setState({\n        isLoading: false\n      });\n    };\n\n    this.state = {\n      isLoading: false,\n      selectOption: false\n    };\n  }\n\n  render() {\n    const {\n      trackName,\n      previewUrl,\n      trackId\n    } = this.props;\n    const {\n      isLoading,\n      selectOption\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: isLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Carregando...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 23\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-testid\": \"trackName\",\n          children: trackName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n          \"data-testid\": \"audio-component\",\n          src: previewUrl,\n          controls: true,\n          children: [/*#__PURE__*/_jsxDEV(\"track\", {\n            kind: \"captions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 15\n          }, this), \"O seu navegador n\\xE3o suporta o elemento\", ' ', ' ', /*#__PURE__*/_jsxDEV(\"code\", {\n            children: \"audio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"check\",\n          children: [\"Favorita\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: `check-${trackId}`,\n            \"data-testid\": `checkbox-music-${trackId}`,\n            type: \"checkbox\",\n            checked: selectOption,\n            onChange: this.onInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nMusicCard.propTypes = {\n  trackName: PropTypes.string.isRequired,\n  previewUrl: PropTypes.string.isRequired,\n  trackId: PropTypes.number.isRequired,\n  musica: PropTypes.shape({\n    trackId: PropTypes.number,\n    trackName: PropTypes.string,\n    previewUrl: PropTypes.string,\n    kind: PropTypes.string\n  }).isRequired\n};\nexport default MusicCard;","map":{"version":3,"names":["React","PropTypes","addSong","getFavoriteSongs","MusicCard","Component","constructor","onInputChange","event","name","type","checked","target","value","setState","isLoading","selectOption","favoriteSong","musica","props","getFavorites","console","log","state","render","trackName","previewUrl","trackId","propTypes","string","isRequired","number","shape","kind"],"sources":["/home/Lucas/Projetos-Trybe/sd-025-a-project-trybetunes/src/component/MusicCard.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { addSong, getFavoriteSongs } from '../services/favoriteSongsAPI';\n\nclass MusicCard extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      isLoading: false,\n      selectOption: false,\n    };\n  }\n\n  onInputChange = (event) => {\n    const { name, type, checked } = event.target;\n    const value = type === 'checkbox' ? checked : event.target.value;\n    this.setState({\n      isLoading: true,\n      [name]: value,\n      selectOption: event.target.value,\n    }, this.favoriteSong);\n  };\n\n  favoriteSong = async () => {\n    const { musica } = this.props;\n    await addSong(musica);\n    const getFavorites = await getFavoriteSongs();\n    console.log(getFavorites);\n    this.setState({\n      isLoading: false,\n    });\n  };\n\n  render() {\n    const { trackName, previewUrl,\n      trackId } = this.props;\n    const { isLoading, selectOption } = this.state;\n    return (\n      <div>\n        { isLoading ? <p>Carregando...</p> : (\n          <div>\n            <p data-testid=\"trackName\">{trackName}</p>\n            <audio data-testid=\"audio-component\" src={ previewUrl } controls>\n              <track kind=\"captions\" />\n              O seu navegador n√£o suporta o elemento\n              {' '}\n              {' '}\n              <code>audio</code>\n            </audio>\n            <label htmlFor=\"check\">\n              Favorita\n              <input\n                name={ `check-${trackId}` }\n                data-testid={ `checkbox-music-${trackId}` }\n                type=\"checkbox\"\n                checked={ selectOption }\n                onChange={ this.onInputChange }\n              />\n            </label>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\nMusicCard.propTypes = {\n  trackName: PropTypes.string.isRequired,\n  previewUrl: PropTypes.string.isRequired,\n  trackId: PropTypes.number.isRequired,\n  musica: PropTypes.shape({\n    trackId: PropTypes.number,\n    trackName: PropTypes.string,\n    previewUrl: PropTypes.string,\n    kind: PropTypes.string,\n  }).isRequired,\n};\n\nexport default MusicCard;\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,EAAkBC,gBAAlB,QAA0C,8BAA1C;;;AAEA,MAAMC,SAAN,SAAwBJ,KAAK,CAACK,SAA9B,CAAwC;EACtCC,WAAW,GAAG;IACZ;;IADY,KAQdC,aARc,GAQGC,KAAD,IAAW;MACzB,MAAM;QAAEC,IAAF;QAAQC,IAAR;QAAcC;MAAd,IAA0BH,KAAK,CAACI,MAAtC;MACA,MAAMC,KAAK,GAAGH,IAAI,KAAK,UAAT,GAAsBC,OAAtB,GAAgCH,KAAK,CAACI,MAAN,CAAaC,KAA3D;MACA,KAAKC,QAAL,CAAc;QACZC,SAAS,EAAE,IADC;QAEZ,CAACN,IAAD,GAAQI,KAFI;QAGZG,YAAY,EAAER,KAAK,CAACI,MAAN,CAAaC;MAHf,CAAd,EAIG,KAAKI,YAJR;IAKD,CAhBa;;IAAA,KAkBdA,YAlBc,GAkBC,YAAY;MACzB,MAAM;QAAEC;MAAF,IAAa,KAAKC,KAAxB;MACA,MAAMjB,OAAO,CAACgB,MAAD,CAAb;MACA,MAAME,YAAY,GAAG,MAAMjB,gBAAgB,EAA3C;MACAkB,OAAO,CAACC,GAAR,CAAYF,YAAZ;MACA,KAAKN,QAAL,CAAc;QACZC,SAAS,EAAE;MADC,CAAd;IAGD,CA1Ba;;IAEZ,KAAKQ,KAAL,GAAa;MACXR,SAAS,EAAE,KADA;MAEXC,YAAY,EAAE;IAFH,CAAb;EAID;;EAsBDQ,MAAM,GAAG;IACP,MAAM;MAAEC,SAAF;MAAaC,UAAb;MACJC;IADI,IACQ,KAAKR,KADnB;IAEA,MAAM;MAAEJ,SAAF;MAAaC;IAAb,IAA8B,KAAKO,KAAzC;IACA,oBACE;MAAA,UACIR,SAAS,gBAAG;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAH,gBACT;QAAA,wBACE;UAAG,eAAY,WAAf;UAAA,UAA4BU;QAA5B;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UAAO,eAAY,iBAAnB;UAAqC,GAAG,EAAGC,UAA3C;UAAwD,QAAQ,MAAhE;UAAA,wBACE;YAAO,IAAI,EAAC;UAAZ;YAAA;YAAA;YAAA;UAAA,QADF,+CAGG,GAHH,EAIG,GAJH,eAKE;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QALF;QAAA;UAAA;UAAA;UAAA;QAAA,QAFF,eASE;UAAO,OAAO,EAAC,OAAf;UAAA,oCAEE;YACE,IAAI,EAAI,SAAQC,OAAQ,EAD1B;YAEE,eAAe,kBAAiBA,OAAQ,EAF1C;YAGE,IAAI,EAAC,UAHP;YAIE,OAAO,EAAGX,YAJZ;YAKE,QAAQ,EAAG,KAAKT;UALlB;YAAA;YAAA;YAAA;UAAA,QAFF;QAAA;UAAA;UAAA;UAAA;QAAA,QATF;MAAA;QAAA;QAAA;QAAA;MAAA;IAFJ;MAAA;MAAA;MAAA;IAAA,QADF;EA0BD;;AA3DqC;;AA6DxCH,SAAS,CAACwB,SAAV,GAAsB;EACpBH,SAAS,EAAExB,SAAS,CAAC4B,MAAV,CAAiBC,UADR;EAEpBJ,UAAU,EAAEzB,SAAS,CAAC4B,MAAV,CAAiBC,UAFT;EAGpBH,OAAO,EAAE1B,SAAS,CAAC8B,MAAV,CAAiBD,UAHN;EAIpBZ,MAAM,EAAEjB,SAAS,CAAC+B,KAAV,CAAgB;IACtBL,OAAO,EAAE1B,SAAS,CAAC8B,MADG;IAEtBN,SAAS,EAAExB,SAAS,CAAC4B,MAFC;IAGtBH,UAAU,EAAEzB,SAAS,CAAC4B,MAHA;IAItBI,IAAI,EAAEhC,SAAS,CAAC4B;EAJM,CAAhB,EAKLC;AATiB,CAAtB;AAYA,eAAe1B,SAAf"},"metadata":{},"sourceType":"module"}