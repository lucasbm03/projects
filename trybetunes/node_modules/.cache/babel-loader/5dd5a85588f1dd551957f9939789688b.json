{"ast":null,"code":"var _jsxFileName = \"/home/Lucas/Projetos-Trybe/sd-025-a-project-trybetunes/src/pages/Login.jsx\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { createUser } from '../services/userAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      name: '',\n      loading: false\n    };\n\n    handleChange = element => {\n      const {\n        name,\n        value\n      } = element.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    handleClick = () => {\n      const {\n        name\n      } = this.state;\n      const {\n        history\n      } = this.props;\n      const timer = 1500;\n      createUser({\n        name\n      });\n      this.setState({\n        loading: true\n      });\n      setTimeout(() => {\n        history.push('/search');\n      }, timer);\n    };\n  }\n\n  render() {\n    const {\n      name,\n      loading\n    } = this.state;\n    const three = 3;\n    const validation = name.length < three ? /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"login-submit-button\",\n      disabled: true,\n      children: \"Entrar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"login-submit-button\",\n      onClick: this.handleClick,\n      children: \"Entrar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-login\",\n      children: !loading ? /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: [\"Nome:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            \"data-testid\": \"login-name-input\",\n            type: \"text\",\n            name: \"name\",\n            id: \"name\",\n            value: name,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 15\n        }, this), validation]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Carregando...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nLogin.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired\n  }).isRequired\n};\nexport default Login;","map":{"version":3,"names":["React","PropTypes","createUser","Login","Component","constructor","state","name","loading","handleChange","element","value","target","setState","handleClick","history","props","timer","setTimeout","push","render","three","validation","length","propTypes","shape","func","isRequired"],"sources":["/home/Lucas/Projetos-Trybe/sd-025-a-project-trybetunes/src/pages/Login.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { createUser } from '../services/userAPI';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      name: '',\n      loading: false,\n    };\n    handleChange = (element) => {\n      const { name, value } = element.target;\n      this.setState({\n        [name]: value,\n      });\n    };\n    handleClick = () => {\n      const { name } = this.state;\n      const { history } = this.props;\n      const timer = 1500;\n      createUser({ name });\n      this.setState({ loading: true });\n      setTimeout(() => {\n        history.push('/search');\n      }, timer);\n    };\n  }\n\n  render() {\n    const { name, loading } = this.state;\n    const three = 3;\n    const validation = name.length < three\n      ? <button type=\"button\" data-testid=\"login-submit-button\" disabled>Entrar</button>\n      : (\n        <button\n          type=\"button\"\n          data-testid=\"login-submit-button\"\n          onClick={ this.handleClick }\n        >\n          Entrar\n        </button>);\n    return (\n      <div data-testid=\"page-login\">\n        { !loading\n          ? (\n            <form>\n              <label htmlFor=\"name\">\n                Nome:\n                <input\n                  data-testid=\"login-name-input\"\n                  type=\"text\"\n                  name=\"name\"\n                  id=\"name\"\n                  value={ name }\n                  onChange={ this.handleChange }\n                />\n              </label>\n              { validation }\n            </form>)\n          : <p>Carregando...</p>}\n      </div>\n    );\n  }\n}\n\nLogin.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n};\n\nexport default Login;\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,UAAT,QAA2B,qBAA3B;;;AAEA,MAAMC,KAAN,SAAoBH,KAAK,CAACI,SAA1B,CAAoC;EAClCC,WAAW,GAAG;IACZ;IACA,KAAKC,KAAL,GAAa;MACXC,IAAI,EAAE,EADK;MAEXC,OAAO,EAAE;IAFE,CAAb;;IAIAC,YAAY,GAAIC,OAAD,IAAa;MAC1B,MAAM;QAAEH,IAAF;QAAQI;MAAR,IAAkBD,OAAO,CAACE,MAAhC;MACA,KAAKC,QAAL,CAAc;QACZ,CAACN,IAAD,GAAQI;MADI,CAAd;IAGD,CALD;;IAMAG,WAAW,GAAG,MAAM;MAClB,MAAM;QAAEP;MAAF,IAAW,KAAKD,KAAtB;MACA,MAAM;QAAES;MAAF,IAAc,KAAKC,KAAzB;MACA,MAAMC,KAAK,GAAG,IAAd;MACAf,UAAU,CAAC;QAAEK;MAAF,CAAD,CAAV;MACA,KAAKM,QAAL,CAAc;QAAEL,OAAO,EAAE;MAAX,CAAd;MACAU,UAAU,CAAC,MAAM;QACfH,OAAO,CAACI,IAAR,CAAa,SAAb;MACD,CAFS,EAEPF,KAFO,CAAV;IAGD,CATD;EAUD;;EAEDG,MAAM,GAAG;IACP,MAAM;MAAEb,IAAF;MAAQC;IAAR,IAAoB,KAAKF,KAA/B;IACA,MAAMe,KAAK,GAAG,CAAd;IACA,MAAMC,UAAU,GAAGf,IAAI,CAACgB,MAAL,GAAcF,KAAd,gBACf;MAAQ,IAAI,EAAC,QAAb;MAAsB,eAAY,qBAAlC;MAAwD,QAAQ,MAAhE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADe,gBAGf;MACE,IAAI,EAAC,QADP;MAEE,eAAY,qBAFd;MAGE,OAAO,EAAG,KAAKP,WAHjB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAHJ;IAUA,oBACE;MAAK,eAAY,YAAjB;MAAA,UACI,CAACN,OAAD,gBAEE;QAAA,wBACE;UAAO,OAAO,EAAC,MAAf;UAAA,iCAEE;YACE,eAAY,kBADd;YAEE,IAAI,EAAC,MAFP;YAGE,IAAI,EAAC,MAHP;YAIE,EAAE,EAAC,MAJL;YAKE,KAAK,EAAGD,IALV;YAME,QAAQ,EAAG,KAAKE;UANlB;YAAA;YAAA;YAAA;UAAA,QAFF;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,EAYIa,UAZJ;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF,gBAgBE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAjBN;MAAA;MAAA;MAAA;IAAA,QADF;EAqBD;;AA3DiC;;AA8DpCnB,KAAK,CAACqB,SAAN,GAAkB;EAChBT,OAAO,EAAEd,SAAS,CAACwB,KAAV,CAAgB;IACvBN,IAAI,EAAElB,SAAS,CAACyB,IAAV,CAAeC;EADE,CAAhB,EAENA;AAHa,CAAlB;AAMA,eAAexB,KAAf"},"metadata":{},"sourceType":"module"}