{"ast":null,"code":"var _jsxFileName = \"/home/Lucas/Projetos-Trybe/sd-025-a-project-trybetunes/src/component/MusicCard.jsx\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { addSong, getFavoriteSongs } from '../services/favoriteSongsAPI';\nimport NowLoading from './NowLoading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass MusicCard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.addFavMusic = async (music, e) => {\n      const {\n        name\n      } = e.target;\n      const {\n        musicList\n      } = this.state;\n      this.setState({\n        isLoading: true\n      });\n      await addSong(music);\n      const clickedMusic = musicList.map(item => {\n        if (Number(name) === item.trackId) {\n          return { ...item,\n            checked: !item.checked\n          };\n        }\n\n        return item;\n      });\n      this.setState({\n        musicList: clickedMusic,\n        isLoading: false\n      });\n    };\n\n    this.recoverFav = async () => {\n      const {\n        musics\n      } = this.props;\n      this.setState({\n        isLoading: true\n      });\n      const apiResponse = await getFavoriteSongs();\n      this.setState({\n        isLoading: false\n      });\n      const verify = apiResponse.some(favMsc => favMsc.trackId === musics.trackId);\n\n      if (verify) {//\n      }\n    };\n\n    this.state = {\n      isLoading: true\n    };\n  }\n\n  componentDidMount() {\n    const {\n      musics\n    } = this.props;\n    const checkedMusic = musics.map(music => ({ ...music,\n      checked: false\n    }));\n    this.setState({\n      musicList: checkedMusic,\n      isLoading: false\n    });\n    this.recoverFav();\n  }\n\n  render() {\n    const {\n      isLoading,\n      musicList\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      children: isLoading ? /*#__PURE__*/_jsxDEV(NowLoading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 23\n      }, this) : musicList.map(music => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: music.trackName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: music.artworkUrl100,\n          alt: music.trackName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n          \"data-testid\": \"audio-component\",\n          src: music.previewUrl,\n          controls: true,\n          children: [/*#__PURE__*/_jsxDEV(\"track\", {\n            kind: \"captions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 19\n          }, this), \"O seu navegador n\\xE3o suporta o elemento\", /*#__PURE__*/_jsxDEV(\"code\", {\n            children: \"audio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 19\n          }, this), \".\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          \"data-testid\": `checkbox-music-${music.trackId}`,\n          htmlFor: music.trackId,\n          children: [\"Favorita\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            name: music.trackId,\n            id: music.trackId,\n            checked: music.checked,\n            onChange: e => this.addFavMusic(music, e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this)]\n      }, music.trackId, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nMusicCard.propTypes = {\n  musics: PropTypes.arrayOf(PropTypes.shape({\n    trackName: PropTypes.string.isRequired,\n    previewUrl: PropTypes.string.isRequired\n  })).isRequired\n};\nexport default MusicCard;","map":{"version":3,"names":["PropTypes","React","addSong","getFavoriteSongs","NowLoading","MusicCard","Component","constructor","props","addFavMusic","music","e","name","target","musicList","state","setState","isLoading","clickedMusic","map","item","Number","trackId","checked","recoverFav","musics","apiResponse","verify","some","favMsc","componentDidMount","checkedMusic","render","trackName","artworkUrl100","previewUrl","propTypes","arrayOf","shape","string","isRequired"],"sources":["/home/Lucas/Projetos-Trybe/sd-025-a-project-trybetunes/src/component/MusicCard.jsx"],"sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react';\nimport { addSong, getFavoriteSongs } from '../services/favoriteSongsAPI';\nimport NowLoading from './NowLoading';\n\nclass MusicCard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true,\n    };\n  }\n\n  componentDidMount() {\n    const { musics } = this.props;\n    const checkedMusic = musics.map((music) => ({ ...music, checked: false }));\n    this.setState({ musicList: checkedMusic, isLoading: false });\n\n    this.recoverFav();\n  }\n\n  addFavMusic = async (music, e) => {\n    const { name } = e.target;\n    const { musicList } = this.state;\n    this.setState({ isLoading: true });\n    await addSong(music);\n\n    const clickedMusic = musicList.map((item) => {\n      if (Number(name) === item.trackId) {\n        return { ...item, checked: !item.checked };\n      }\n      return item;\n    });\n\n    this.setState({ musicList: clickedMusic, isLoading: false });\n  };\n\n  recoverFav = async () => {\n    const { musics } = this.props;\n\n    this.setState({ isLoading: true });\n\n    const apiResponse = await getFavoriteSongs();\n\n    this.setState({ isLoading: false });\n\n    const verify = apiResponse.some((favMsc) => favMsc.trackId === musics.trackId);\n    if (verify) {\n      //\n    }\n  };\n\n  render() {\n    const { isLoading, musicList } = this.state;\n    return (\n      <main>\n        { isLoading ? <NowLoading />\n          : (\n            musicList.map((music) => (\n              <div key={ music.trackId }>\n                <p>{music.trackName}</p>\n                <img src={ music.artworkUrl100 } alt={ music.trackName } />\n                <audio data-testid=\"audio-component\" src={ music.previewUrl } controls>\n                  <track kind=\"captions\" />\n                  O seu navegador n√£o suporta o elemento\n                  <code>audio</code>\n                  .\n                </audio>\n                <label\n                  data-testid={ `checkbox-music-${music.trackId}` }\n                  htmlFor={ music.trackId }\n                >\n                  Favorita\n                  <input\n                    type=\"checkbox\"\n                    name={ music.trackId }\n                    id={ music.trackId }\n                    checked={ music.checked }\n                    onChange={ (e) => this.addFavMusic(music, e) }\n                  />\n                </label>\n              </div>\n            ))\n          )}\n\n      </main>\n    );\n  }\n}\n\nMusicCard.propTypes = {\n  musics: PropTypes.arrayOf(PropTypes.shape({\n    trackName: PropTypes.string.isRequired,\n    previewUrl: PropTypes.string.isRequired,\n  })).isRequired,\n};\n\nexport default MusicCard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}