{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useCallback, useEffect } from 'react';\nconst MAX_CAT = 5;\n\nconst endpoint = type => {\n  if (type === 'meals') return 'https://www.themealdb.com/api/json/v1/1';\n  return 'https://www.thecocktaildb.com/api/json/v1/1';\n};\n\nconst useCategories = type => {\n  _s();\n\n  type = type.slice(1);\n  const [categories, setCategories] = useState([]);\n  const [selectedCategory, setSelectedCategories] = useState();\n  const [error, setError] = useState();\n  const [loading, setLoading] = useState(true);\n\n  const toggleSelectedCategory = category => {\n    if (selectedCategory === category) return setSelectedCategories();\n    return setSelectedCategories(category);\n  };\n\n  const loadData = useCallback(async () => {\n    try {\n      setLoading(true);\n      const res = await (await fetch(`${endpoint(type)}/list.php?c=list`)).json();\n      setCategories(res[type].slice(0, MAX_CAT));\n    } catch (e) {\n      setError(e.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [type]);\n  useEffect(() => {\n    loadData();\n  }, [loadData]);\n  return {\n    categories,\n    selectedCategory,\n    error,\n    loading,\n    toggleSelectedCategory\n  };\n};\n\n_s(useCategories, \"bstgzgBlJ34R8rWs0xuBPcs1z1k=\");\n\nexport default useCategories;","map":{"version":3,"names":["useState","useCallback","useEffect","MAX_CAT","endpoint","type","useCategories","slice","categories","setCategories","selectedCategory","setSelectedCategories","error","setError","loading","setLoading","toggleSelectedCategory","category","loadData","res","fetch","json","e","message"],"sources":["/home/Lucas/Projetos-Trybe/sd-025-a-project-recipes-app/src/hooks/useCategories.js"],"sourcesContent":["import { useState, useCallback, useEffect } from 'react';\n\nconst MAX_CAT = 5;\n\nconst endpoint = (type) => {\n  if (type === 'meals') return 'https://www.themealdb.com/api/json/v1/1';\n\n  return 'https://www.thecocktaildb.com/api/json/v1/1';\n};\n\nconst useCategories = (type) => {\n  type = type.slice(1);\n\n  const [categories, setCategories] = useState([]);\n  const [selectedCategory, setSelectedCategories] = useState();\n  const [error, setError] = useState();\n  const [loading, setLoading] = useState(true);\n\n  const toggleSelectedCategory = (category) => {\n    if (selectedCategory === category) return setSelectedCategories();\n\n    return setSelectedCategories(category);\n  };\n\n  const loadData = useCallback(async () => {\n    try {\n      setLoading(true);\n      const res = await (await fetch(`${endpoint(type)}/list.php?c=list`)).json();\n      setCategories(res[type].slice(0, MAX_CAT));\n    } catch (e) {\n      setError(e.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [type]);\n\n  useEffect(() => {\n    loadData();\n  }, [loadData]);\n\n  return {\n    categories,\n    selectedCategory,\n    error,\n    loading,\n    toggleSelectedCategory,\n  };\n};\n\nexport default useCategories;\n"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,WAAnB,EAAgCC,SAAhC,QAAiD,OAAjD;AAEA,MAAMC,OAAO,GAAG,CAAhB;;AAEA,MAAMC,QAAQ,GAAIC,IAAD,IAAU;EACzB,IAAIA,IAAI,KAAK,OAAb,EAAsB,OAAO,yCAAP;EAEtB,OAAO,6CAAP;AACD,CAJD;;AAMA,MAAMC,aAAa,GAAID,IAAD,IAAU;EAAA;;EAC9BA,IAAI,GAAGA,IAAI,CAACE,KAAL,CAAW,CAAX,CAAP;EAEA,MAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BT,QAAQ,CAAC,EAAD,CAA5C;EACA,MAAM,CAACU,gBAAD,EAAmBC,qBAAnB,IAA4CX,QAAQ,EAA1D;EACA,MAAM,CAACY,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,EAAlC;EACA,MAAM,CAACc,OAAD,EAAUC,UAAV,IAAwBf,QAAQ,CAAC,IAAD,CAAtC;;EAEA,MAAMgB,sBAAsB,GAAIC,QAAD,IAAc;IAC3C,IAAIP,gBAAgB,KAAKO,QAAzB,EAAmC,OAAON,qBAAqB,EAA5B;IAEnC,OAAOA,qBAAqB,CAACM,QAAD,CAA5B;EACD,CAJD;;EAMA,MAAMC,QAAQ,GAAGjB,WAAW,CAAC,YAAY;IACvC,IAAI;MACFc,UAAU,CAAC,IAAD,CAAV;MACA,MAAMI,GAAG,GAAG,MAAM,CAAC,MAAMC,KAAK,CAAE,GAAEhB,QAAQ,CAACC,IAAD,CAAO,kBAAnB,CAAZ,EAAmDgB,IAAnD,EAAlB;MACAZ,aAAa,CAACU,GAAG,CAACd,IAAD,CAAH,CAAUE,KAAV,CAAgB,CAAhB,EAAmBJ,OAAnB,CAAD,CAAb;IACD,CAJD,CAIE,OAAOmB,CAAP,EAAU;MACVT,QAAQ,CAACS,CAAC,CAACC,OAAH,CAAR;IACD,CAND,SAMU;MACRR,UAAU,CAAC,KAAD,CAAV;IACD;EACF,CAV2B,EAUzB,CAACV,IAAD,CAVyB,CAA5B;EAYAH,SAAS,CAAC,MAAM;IACdgB,QAAQ;EACT,CAFQ,EAEN,CAACA,QAAD,CAFM,CAAT;EAIA,OAAO;IACLV,UADK;IAELE,gBAFK;IAGLE,KAHK;IAILE,OAJK;IAKLE;EALK,CAAP;AAOD,CArCD;;GAAMV,a;;AAuCN,eAAeA,aAAf"},"metadata":{},"sourceType":"module"}