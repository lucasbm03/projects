{"ast":null,"code":"var _jsxFileName = \"/home/Lucas/Projetos-Trybe/sd-025-a-project-recipes-app/src/pages/Login.js\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { actionLogin } from '../redux/actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.handleInputChange = event => {\n      const {\n        name\n      } = event.target;\n      const {\n        target\n      } = event;\n      const {\n        value\n      } = target;\n      this.setState({\n        [name]: value\n      }, this.validaForm);\n    };\n\n    this.validaForm = () => {\n      const {\n        email,\n        senha\n      } = this.state;\n      const number = 7;\n      const emailRegex = /\\S+@\\S+\\.\\S+/;\n      const validPassword = senha.length >= number;\n      const result = emailRegex.test(email) && validPassword;\n      this.setState({\n        button: !result\n      });\n      return !result;\n    };\n\n    this.changePage = () => {\n      const {\n        email\n      } = this.state;\n      const {\n        history,\n        dispatch\n      } = this.props;\n      dispatch(actionLogin(email));\n      localStorage.setItem('user', JSON.stringify({\n        email\n      }));\n      history.push('/meals');\n    };\n\n    this.state = {\n      email: '',\n      senha: '',\n      button: true\n    };\n  }\n\n  render() {\n    const {\n      email,\n      senha,\n      button\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"e-mail\",\n          children: [\"E-mail:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"email\",\n            id: \"e-mail\",\n            \"data-testid\": \"email-input\",\n            onChange: this.handleInputChange,\n            value: email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"senha\",\n          children: [\"Senha:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"senha\",\n            id: \"senha\",\n            \"data-testid\": \"password-input\",\n            onChange: this.handleInputChange,\n            value: senha\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        disabled: button,\n        \"data-testid\": \"login-submit-btn\",\n        onClick: this.changePage,\n        children: \"Entrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nLogin.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired\n  }).isRequired\n};\nexport default connect()(Login);","map":{"version":3,"names":["PropTypes","React","connect","actionLogin","Login","Component","constructor","handleInputChange","event","name","target","value","setState","validaForm","email","senha","state","number","emailRegex","validPassword","length","result","test","button","changePage","history","dispatch","props","localStorage","setItem","JSON","stringify","push","render","propTypes","func","isRequired","shape"],"sources":["/home/Lucas/Projetos-Trybe/sd-025-a-project-recipes-app/src/pages/Login.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { actionLogin } from '../redux/actions';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      email: '',\n      senha: '',\n      button: true,\n    };\n  }\n\n  handleInputChange = (event) => {\n    const { name } = event.target;\n    const { target } = event;\n    const { value } = target;\n    this.setState({\n      [name]: value,\n    }, this.validaForm);\n  };\n\n  validaForm = () => {\n    const { email, senha } = this.state;\n    const number = 7;\n\n    const emailRegex = /\\S+@\\S+\\.\\S+/;\n    const validPassword = senha.length >= number;\n    const result = emailRegex.test(email) && validPassword;\n\n    this.setState({\n      button: !result,\n    });\n    return !result;\n  };\n\n  changePage = () => {\n    const { email } = this.state;\n    const { history, dispatch } = this.props;\n    dispatch(actionLogin(email));\n    localStorage.setItem('user', JSON.stringify({ email }));\n    history.push('/meals');\n  };\n\n  render() {\n    const { email, senha, button } = this.state;\n    return (\n      <div>\n        <form>\n          <label htmlFor=\"e-mail\">\n            E-mail:\n            <input\n              type=\"text\"\n              name=\"email\"\n              id=\"e-mail\"\n              data-testid=\"email-input\"\n              onChange={ this.handleInputChange }\n              value={ email }\n            />\n          </label>\n          <label htmlFor=\"senha\">\n            Senha:\n            <input\n              type=\"password\"\n              name=\"senha\"\n              id=\"senha\"\n              data-testid=\"password-input\"\n              onChange={ this.handleInputChange }\n              value={ senha }\n            />\n          </label>\n        </form>\n        <button\n          type=\"button\"\n          disabled={ button }\n          data-testid=\"login-submit-btn\"\n          onClick={ this.changePage }\n        >\n          Entrar\n        </button>\n      </div>\n    );\n  }\n}\n\nLogin.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n};\n\nexport default connect()(Login);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}