{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useCallback, useEffect } from 'react';\nconst MAX_RECIPES = 12;\n\nconst endpoint = (type, filter) => {\n  let url = 'https://www.thecocktaildb.com/api/json/v1/1';\n  if (type === 'meals') url = 'https://www.themealdb.com/api/json/v1/1';\n  if (filter) url = `${url}/filter.php?c=${filter}`;else url = `${url}/search.php?s=`;\n  return url;\n};\n\nconst mapToSameAPI = type => data => {\n  if (type === 'meals') {\n    return {\n      id: data.idMeal,\n      thumb: data.strMealThumb,\n      name: data.strMeal\n    };\n  }\n\n  return {\n    id: data.idDrink,\n    thumb: data.strDrinkThumb,\n    name: data.strDrink\n  };\n};\n\nconst useRecipes = (type, filter) => {\n  _s();\n\n  type = type.slice(1);\n  const [data, setData] = useState([]);\n  const [error, setError] = useState();\n  const [loading, setLoading] = useState(true);\n  const loadData = useCallback(async () => {\n    try {\n      setLoading(true);\n      const res = await (await fetch(endpoint(type, filter))).json();\n      setData(res[type].slice(0, MAX_RECIPES).map(mapToSameAPI(type)));\n    } catch (e) {\n      setError(e.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [type, filter]);\n  useEffect(() => {\n    loadData();\n  }, [loadData]);\n  return {\n    data,\n    error,\n    loading\n  };\n};\n\n_s(useRecipes, \"11w92xODTG1eK1wadNQ2k8NtQnc=\");\n\nexport default useRecipes;","map":{"version":3,"names":["useState","useCallback","useEffect","MAX_RECIPES","endpoint","type","filter","url","mapToSameAPI","data","id","idMeal","thumb","strMealThumb","name","strMeal","idDrink","strDrinkThumb","strDrink","useRecipes","slice","setData","error","setError","loading","setLoading","loadData","res","fetch","json","map","e","message"],"sources":["/home/Lucas/Projetos-Trybe/sd-025-a-project-recipes-app/src/hooks/useRecipes.js"],"sourcesContent":["import { useState, useCallback, useEffect } from 'react';\n\nconst MAX_RECIPES = 12;\n\nconst endpoint = (type, filter) => {\n  let url = 'https://www.thecocktaildb.com/api/json/v1/1';\n  if (type === 'meals') url = 'https://www.themealdb.com/api/json/v1/1';\n\n  if (filter) url = `${url}/filter.php?c=${filter}`;\n  else url = `${url}/search.php?s=`;\n\n  return url;\n};\n\nconst mapToSameAPI = (type) => (data) => {\n  if (type === 'meals') {\n    return {\n      id: data.idMeal,\n      thumb: data.strMealThumb,\n      name: data.strMeal,\n    };\n  }\n\n  return {\n    id: data.idDrink,\n    thumb: data.strDrinkThumb,\n    name: data.strDrink,\n  };\n};\n\nconst useRecipes = (type, filter) => {\n  type = type.slice(1);\n\n  const [data, setData] = useState([]);\n  const [error, setError] = useState();\n  const [loading, setLoading] = useState(true);\n\n  const loadData = useCallback(async () => {\n    try {\n      setLoading(true);\n      const res = await (await fetch(endpoint(type, filter))).json();\n      setData(res[type].slice(0, MAX_RECIPES).map(mapToSameAPI(type)));\n    } catch (e) {\n      setError(e.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [type, filter]);\n\n  useEffect(() => {\n    loadData();\n  }, [loadData]);\n\n  return {\n    data,\n    error,\n    loading,\n  };\n};\n\nexport default useRecipes;\n"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,WAAnB,EAAgCC,SAAhC,QAAiD,OAAjD;AAEA,MAAMC,WAAW,GAAG,EAApB;;AAEA,MAAMC,QAAQ,GAAG,CAACC,IAAD,EAAOC,MAAP,KAAkB;EACjC,IAAIC,GAAG,GAAG,6CAAV;EACA,IAAIF,IAAI,KAAK,OAAb,EAAsBE,GAAG,GAAG,yCAAN;EAEtB,IAAID,MAAJ,EAAYC,GAAG,GAAI,GAAEA,GAAI,iBAAgBD,MAAO,EAApC,CAAZ,KACKC,GAAG,GAAI,GAAEA,GAAI,gBAAb;EAEL,OAAOA,GAAP;AACD,CARD;;AAUA,MAAMC,YAAY,GAAIH,IAAD,IAAWI,IAAD,IAAU;EACvC,IAAIJ,IAAI,KAAK,OAAb,EAAsB;IACpB,OAAO;MACLK,EAAE,EAAED,IAAI,CAACE,MADJ;MAELC,KAAK,EAAEH,IAAI,CAACI,YAFP;MAGLC,IAAI,EAAEL,IAAI,CAACM;IAHN,CAAP;EAKD;;EAED,OAAO;IACLL,EAAE,EAAED,IAAI,CAACO,OADJ;IAELJ,KAAK,EAAEH,IAAI,CAACQ,aAFP;IAGLH,IAAI,EAAEL,IAAI,CAACS;EAHN,CAAP;AAKD,CAdD;;AAgBA,MAAMC,UAAU,GAAG,CAACd,IAAD,EAAOC,MAAP,KAAkB;EAAA;;EACnCD,IAAI,GAAGA,IAAI,CAACe,KAAL,CAAW,CAAX,CAAP;EAEA,MAAM,CAACX,IAAD,EAAOY,OAAP,IAAkBrB,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAM,CAACsB,KAAD,EAAQC,QAAR,IAAoBvB,QAAQ,EAAlC;EACA,MAAM,CAACwB,OAAD,EAAUC,UAAV,IAAwBzB,QAAQ,CAAC,IAAD,CAAtC;EAEA,MAAM0B,QAAQ,GAAGzB,WAAW,CAAC,YAAY;IACvC,IAAI;MACFwB,UAAU,CAAC,IAAD,CAAV;MACA,MAAME,GAAG,GAAG,MAAM,CAAC,MAAMC,KAAK,CAACxB,QAAQ,CAACC,IAAD,EAAOC,MAAP,CAAT,CAAZ,EAAsCuB,IAAtC,EAAlB;MACAR,OAAO,CAACM,GAAG,CAACtB,IAAD,CAAH,CAAUe,KAAV,CAAgB,CAAhB,EAAmBjB,WAAnB,EAAgC2B,GAAhC,CAAoCtB,YAAY,CAACH,IAAD,CAAhD,CAAD,CAAP;IACD,CAJD,CAIE,OAAO0B,CAAP,EAAU;MACVR,QAAQ,CAACQ,CAAC,CAACC,OAAH,CAAR;IACD,CAND,SAMU;MACRP,UAAU,CAAC,KAAD,CAAV;IACD;EACF,CAV2B,EAUzB,CAACpB,IAAD,EAAOC,MAAP,CAVyB,CAA5B;EAYAJ,SAAS,CAAC,MAAM;IACdwB,QAAQ;EACT,CAFQ,EAEN,CAACA,QAAD,CAFM,CAAT;EAIA,OAAO;IACLjB,IADK;IAELa,KAFK;IAGLE;EAHK,CAAP;AAKD,CA5BD;;GAAML,U;;AA8BN,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}