{"ast":null,"code":"var _jsxFileName = \"/home/Lucas/Projetos-Trybe/sd-025-a-project-trivia-react-redux/src/pages/Login.js\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport getUserToken from '../helpers/api';\nimport { emailAction } from '../redux/actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.handleChange = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        name,\n        value\n      } = target;\n      this.setState({\n        [name]: value\n      }, this.validateButton);\n    };\n\n    this.validateButton = () => {\n      const {\n        gravatarEmail,\n        name\n      } = this.state;\n      const regex = /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/;\n      const validateEmail = regex.test(gravatarEmail);\n      const validate = validateEmail && name.length > 0;\n      this.setState({\n        isDisable: !validate\n      });\n    };\n\n    this.handleClick = async () => {\n      const {\n        history,\n        dispatch\n      } = this.props;\n      const usertoken = await getUserToken();\n      localStorage.setItem('token', usertoken);\n      history.push('/game');\n      dispatch(emailAction(this.state));\n    };\n\n    this.pushToConfig = () => {\n      const {\n        history\n      } = this.props;\n      history.push('/config');\n    };\n\n    this.state = {\n      gravatarEmail: '',\n      name: '',\n      isDisable: true\n    };\n  }\n\n  render() {\n    const {\n      gravatarEmail,\n      name,\n      isDisable\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"name\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Digite seu Nome\",\n          \"data-testid\": \"input-player-name\",\n          type: \"name\",\n          name: \"name\",\n          id: \"name\",\n          value: name,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"gravatarEmail\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Digite seu Email\",\n          \"data-testid\": \"input-gravatar-email\",\n          type: \"email\",\n          name: \"gravatarEmail\",\n          id: \"email\",\n          value: gravatarEmail,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        \"data-testid\": \"btn-play\",\n        type: \"button\",\n        disabled: isDisable,\n        onClick: this.handleClick,\n        children: \"Play\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        \"data-testid\": \"btn-settings\",\n        type: \"button\",\n        onClick: this.pushToConfig,\n        children: \"Configura\\xE7\\xF5es\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nLogin.propTypes = {\n  dispatch: PropTypes.func,\n  history: PropTypes.shape({\n    push: PropTypes.func\n  })\n}.isRequired;\nexport default connect()(Login);","map":{"version":3,"names":["PropTypes","React","connect","getUserToken","emailAction","Login","Component","constructor","handleChange","target","name","value","setState","validateButton","gravatarEmail","state","regex","validateEmail","test","validate","length","isDisable","handleClick","history","dispatch","props","usertoken","localStorage","setItem","push","pushToConfig","render","propTypes","func","shape","isRequired"],"sources":["/home/Lucas/Projetos-Trybe/sd-025-a-project-trivia-react-redux/src/pages/Login.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport getUserToken from '../helpers/api';\nimport { emailAction } from '../redux/actions';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      gravatarEmail: '',\n      name: '',\n      isDisable: true,\n    };\n  }\n\n  handleChange = ({ target }) => {\n    const { name, value } = target;\n    this.setState({ [name]: value }, this.validateButton);\n  };\n\n  validateButton = () => {\n    const { gravatarEmail, name } = this.state;\n    const regex = /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/;\n    const validateEmail = regex.test(gravatarEmail);\n    const validate = validateEmail && name.length > 0;\n    this.setState({\n      isDisable: !validate,\n    });\n  };\n\n  handleClick = async () => {\n    const { history, dispatch } = this.props;\n    const usertoken = await getUserToken();\n    localStorage.setItem('token', usertoken);\n    history.push('/game');\n    dispatch(emailAction(this.state));\n  };\n\n  pushToConfig = () => {\n    const { history } = this.props;\n    history.push('/config');\n  };\n\n  render() {\n    const { gravatarEmail, name, isDisable } = this.state;\n    return (\n      <section>\n        <label htmlFor=\"name\">\n          <input\n            placeholder=\"Digite seu Nome\"\n            data-testid=\"input-player-name\"\n            type=\"name\"\n            name=\"name\"\n            id=\"name\"\n            value={ name }\n            onChange={ this.handleChange }\n          />\n        </label>\n        <label htmlFor=\"gravatarEmail\">\n          <input\n            placeholder=\"Digite seu Email\"\n            data-testid=\"input-gravatar-email\"\n            type=\"email\"\n            name=\"gravatarEmail\"\n            id=\"email\"\n            value={ gravatarEmail }\n            onChange={ this.handleChange }\n          />\n        </label>\n        <button\n          data-testid=\"btn-play\"\n          type=\"button\"\n          disabled={ isDisable }\n          onClick={ this.handleClick }\n        >\n          Play\n        </button>\n        <button\n          data-testid=\"btn-settings\"\n          type=\"button\"\n          onClick={ this.pushToConfig }\n        >\n          Configurações\n        </button>\n      </section>\n    );\n  }\n}\n\nLogin.propTypes = {\n  dispatch: PropTypes.func,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }),\n}.isRequired;\n\nexport default connect()(Login);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}